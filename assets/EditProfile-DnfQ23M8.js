import{_ as k}from"./dynamic-import-helper-BheWnx7M.js";import{_ as V,r as d,h as x,o as N,u as S,d as a,f as t,w as n,e as b,v as i,t as U,i as O,j as r,g as u}from"./index-BWVT7LnQ.js";const P={class:"edit-profile"},R={key:0,class:"auth-box"},j={key:0},D=["src"],E="aikeys2025",I={__name:"EditProfile",setup(B){const y=S(),p=d(""),v=d(!1),m=d(""),l=x({id:"",name:"",role:"",bio:"",image:""}),f=d(null);N(async()=>{const s=y.params.id;if(s)try{const e=await k(Object.assign({}),`../../assets/members/${s}.json`,5);Object.assign(l,e.default)}catch{console.warn("New member â€” no file yet")}});const g=()=>{p.value===E?v.value=!0:m.value="Wrong password"},w=s=>{const e=s.target.files[0];e&&(f.value=URL.createObjectURL(e))},c=async()=>{console.log("Member JSON:",JSON.stringify(l,null,2)),alert("Profile data ready to be uploaded (check console)")};return(s,e)=>(u(),a("div",P,[e[11]||(e[11]=t("h2",null,"Edit Profile",-1)),v.value?(u(),a("form",{key:1,onSubmit:O(c,["prevent"])},[t("label",null,[e[5]||(e[5]=r(" ID ",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>l.id=o),required:"",placeholder:"unique-id"},null,512),[[i,l.id]])]),t("label",null,[e[6]||(e[6]=r(" Name ",-1)),n(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.name=o),required:""},null,512),[[i,l.name]])]),t("label",null,[e[7]||(e[7]=r(" Role ",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>l.role=o)},null,512),[[i,l.role]])]),t("label",null,[e[8]||(e[8]=r(" Bio ",-1)),n(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>l.bio=o),rows:"4"},null,512),[[i,l.bio]])]),t("label",null,[e[9]||(e[9]=r(" Image ",-1)),t("input",{type:"file",onChange:w},null,32)]),f.value?(u(),a("img",{key:0,src:f.value,class:"preview",alt:"preview"},null,8,D)):b("",!0),e[10]||(e[10]=t("button",{type:"submit"},"Save",-1))],32)):(u(),a("div",R,[n(t("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),placeholder:"Enter password"},null,512),[[i,p.value]]),t("button",{onClick:g},"Login"),m.value?(u(),a("p",j,U(m.value),1)):b("",!0)]))]))}},q=V(I,[["__scopeId","data-v-497902cb"]]);export{q as default};
